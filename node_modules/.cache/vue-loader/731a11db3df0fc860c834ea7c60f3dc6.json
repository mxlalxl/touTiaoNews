{"remainingRequest":"D:\\myProject\\touTiaoNews\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myProject\\touTiaoNews\\src\\views\\Search\\SearchResult.vue?vue&type=style&index=0&id=e6fafe7c&lang=less&scoped=true&","dependencies":[{"path":"D:\\myProject\\touTiaoNews\\src\\views\\Search\\SearchResult.vue","mtime":1694051857320},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\css-loader\\dist\\cjs.js","mtime":1664795354518},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1664795355419},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\postcss-loader\\src\\index.js","mtime":1614782079830},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\less-loader\\dist\\cjs.js","mtime":1664094124859},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\vue-loader\\lib\\index.js","mtime":1664795355419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouc2VhcmNoLXJlc3VsdC1jb250YWluZXIgew0KICBwYWRkaW5nLXRvcDogNDZweDsNCiAgcGFkZGluZy1ib3R0b206IDQ2cHg7DQp9DQo="},{"version":3,"sources":["SearchResult.vue"],"names":[],"mappings":";AA8EA;AACA;AACA;AACA","file":"SearchResult.vue","sourceRoot":"src/views/Search","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 搜索结果，头部导航 -->\r\n    <div class=\"search-result-container\">\r\n      <!-- 点击实现后退结果 -->\r\n      <van-nav-bar class=\"nav-bar\" title=\"搜索结果\" left-arrow @click-left=\"$router.go(-1)\" fixed></van-nav-bar>\r\n    </div>\r\n    <!-- 搜索结果-数据渲染 -->\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n      :immediate-check=\"false\"\r\n    >\r\n      <ArticleItem\r\n        v-for=\"obj in articleList\"\r\n        :key=\"obj.art_id\"\r\n        :artObj=\"obj\"\r\n        :isShow=\"false\"\r\n        @click.native=\"itemClickFn(obj.art_id)\"\r\n      ></ArticleItem>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { searchResultAPI } from \"@/api\";\r\nimport ArticleItem from \"@/components/ArticleItem.vue\";\r\nexport default {\r\n  name: \"SearchResult\",\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      articleList: [],\r\n      // list: [],\r\n      loading: false,\r\n      finished: false\r\n    };\r\n  },\r\n  async created() {\r\n    const res = await searchResultAPI({ q: this.$route.params.kw });\r\n    // console.log(res);\r\n    // console.log(this);\r\n    this.articleList = res.data.data.results;\r\n  },\r\n  methods: {\r\n    async onLoad() {\r\n      if (this.articleList.length > 0) {\r\n        this.page++;\r\n        const res = await searchResultAPI({\r\n          page: this.page,\r\n          q: this.$route.params.kw\r\n        });\r\n        // console.log(res);\r\n        // console.log(this);\r\n        if (res.data.data.results.length === 0) {\r\n          this.finished = true;\r\n          return;\r\n        }\r\n        this.articleList = [...this.articleList, ...res.data.data.results];\r\n        this.loading = false;\r\n      }\r\n    },\r\n    // 文章-点击事件-跳转到文章详情\r\n    itemClickFn(id) {\r\n      // console.log(\"123\");\r\n      this.$router.push({\r\n        path: `/detail?art_id=${id}`\r\n      });\r\n    }\r\n  },\r\n  components: {\r\n    ArticleItem\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search-result-container {\r\n  padding-top: 46px;\r\n  padding-bottom: 46px;\r\n}\r\n</style>"]}]}