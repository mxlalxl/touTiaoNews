{"remainingRequest":"D:\\myProject\\touTiaoNews\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myProject\\touTiaoNews\\src\\views\\Search\\SearchResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myProject\\touTiaoNews\\src\\views\\Search\\SearchResult.vue","mtime":1694051857320},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\babel-loader\\lib\\index.js","mtime":1663989856865},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\vue-loader\\lib\\index.js","mtime":1664795355419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBzZWFyY2hSZXN1bHRBUEkgfSBmcm9tICJAL2FwaSI7DQppbXBvcnQgQXJ0aWNsZUl0ZW0gZnJvbSAiQC9jb21wb25lbnRzL0FydGljbGVJdGVtLnZ1ZSI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJTZWFyY2hSZXN1bHQiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBwYWdlOiAxLA0KICAgICAgYXJ0aWNsZUxpc3Q6IFtdLA0KICAgICAgLy8gbGlzdDogW10sDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIGZpbmlzaGVkOiBmYWxzZQ0KICAgIH07DQogIH0sDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgY29uc3QgcmVzID0gYXdhaXQgc2VhcmNoUmVzdWx0QVBJKHsgcTogdGhpcy4kcm91dGUucGFyYW1zLmt3IH0pOw0KICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7DQogICAgLy8gY29uc29sZS5sb2codGhpcyk7DQogICAgdGhpcy5hcnRpY2xlTGlzdCA9IHJlcy5kYXRhLmRhdGEucmVzdWx0czsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIG9uTG9hZCgpIHsNCiAgICAgIGlmICh0aGlzLmFydGljbGVMaXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgdGhpcy5wYWdlKys7DQogICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNlYXJjaFJlc3VsdEFQSSh7DQogICAgICAgICAgcGFnZTogdGhpcy5wYWdlLA0KICAgICAgICAgIHE6IHRoaXMuJHJvdXRlLnBhcmFtcy5rdw0KICAgICAgICB9KTsNCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcyk7DQogICAgICAgIGlmIChyZXMuZGF0YS5kYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7DQogICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSBbLi4udGhpcy5hcnRpY2xlTGlzdCwgLi4ucmVzLmRhdGEuZGF0YS5yZXN1bHRzXTsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDmlofnq6At54K55Ye75LqL5Lu2Lei3s+i9rOWIsOaWh+eroOivpuaDhQ0KICAgIGl0ZW1DbGlja0ZuKGlkKSB7DQogICAgICAvLyBjb25zb2xlLmxvZygiMTIzIik7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIHBhdGg6IGAvZGV0YWlsP2FydF9pZD0ke2lkfWANCiAgICAgIH0pOw0KICAgIH0NCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIEFydGljbGVJdGVtDQogIH0NCn07DQo="},{"version":3,"sources":["SearchResult.vue"],"names":[],"mappings":";AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchResult.vue","sourceRoot":"src/views/Search","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 搜索结果，头部导航 -->\r\n    <div class=\"search-result-container\">\r\n      <!-- 点击实现后退结果 -->\r\n      <van-nav-bar class=\"nav-bar\" title=\"搜索结果\" left-arrow @click-left=\"$router.go(-1)\" fixed></van-nav-bar>\r\n    </div>\r\n    <!-- 搜索结果-数据渲染 -->\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n      :immediate-check=\"false\"\r\n    >\r\n      <ArticleItem\r\n        v-for=\"obj in articleList\"\r\n        :key=\"obj.art_id\"\r\n        :artObj=\"obj\"\r\n        :isShow=\"false\"\r\n        @click.native=\"itemClickFn(obj.art_id)\"\r\n      ></ArticleItem>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { searchResultAPI } from \"@/api\";\r\nimport ArticleItem from \"@/components/ArticleItem.vue\";\r\nexport default {\r\n  name: \"SearchResult\",\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      articleList: [],\r\n      // list: [],\r\n      loading: false,\r\n      finished: false\r\n    };\r\n  },\r\n  async created() {\r\n    const res = await searchResultAPI({ q: this.$route.params.kw });\r\n    // console.log(res);\r\n    // console.log(this);\r\n    this.articleList = res.data.data.results;\r\n  },\r\n  methods: {\r\n    async onLoad() {\r\n      if (this.articleList.length > 0) {\r\n        this.page++;\r\n        const res = await searchResultAPI({\r\n          page: this.page,\r\n          q: this.$route.params.kw\r\n        });\r\n        // console.log(res);\r\n        // console.log(this);\r\n        if (res.data.data.results.length === 0) {\r\n          this.finished = true;\r\n          return;\r\n        }\r\n        this.articleList = [...this.articleList, ...res.data.data.results];\r\n        this.loading = false;\r\n      }\r\n    },\r\n    // 文章-点击事件-跳转到文章详情\r\n    itemClickFn(id) {\r\n      // console.log(\"123\");\r\n      this.$router.push({\r\n        path: `/detail?art_id=${id}`\r\n      });\r\n    }\r\n  },\r\n  components: {\r\n    ArticleItem\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search-result-container {\r\n  padding-top: 46px;\r\n  padding-bottom: 46px;\r\n}\r\n</style>"]}]}