{"remainingRequest":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\forward\\code\\vue\\hmtt_nnew\\src\\components\\ArticleItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\src\\components\\ArticleItem.vue","mtime":1666426596365},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\babel-loader\\lib\\index.js","mtime":1663989856865},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\vue-loader\\lib\\index.js","mtime":1664795355419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyB0aW1lQWdvIH0gZnJvbSAiQC91dGlscy9kYXlqcy5qcyI7DQppbXBvcnQgeyBmaXJzdEFjdGlvbnMsIHNlY29uZEFjdGlvbnMgfSBmcm9tICJAL2FwaS9yZXBvcnQuanMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzaG93OiBmYWxzZSwNCiAgICAgIGFjdGlvbnM6IGZpcnN0QWN0aW9ucywNCiAgICAgIGJvdHRvbVRleHQ6ICLlj5bmtogiIC8v6YGu572p5bGC5bqV6YOo6buY6K6k5paH5a2XDQogICAgfTsNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBhcnRPYmo6IE9iamVjdCwgLy/mlofnq6Dlr7nosaENCiAgICBpc1Nob3c6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZm9ybWF0VGltZTogdGltZUFnbywNCiAgICBvblNlbGVjdChhY3Rpb24sIGl0ZW0pIHsNCiAgICAgIC8vIOm7mOiupOaDheWGteS4i+eCueWHu+mAiemhueaXtuS4jeS8muiHquWKqOaUtui1tw0KICAgICAgLy8g5Y+v5Lul6YCa6L+HIGNsb3NlLW9uLWNsaWNrLWFjdGlvbiDlsZ7mgKflvIDlkK/oh6rliqjmlLbotbcNCiAgICAgIC8vIHRoaXMuc2hvdyA9IGZhbHNlOw0KICAgICAgLy8gVG9hc3QoaXRlbS5uYW1lKTsNCiAgICAgIC8vIGNvbnNvbGUubG9nKGFjdGlvbik7DQoNCiAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW0pOw0KICAgICAgaWYgKGFjdGlvbi5uYW1lID09PSAi5Y+N6aaI5Z6D5Zy+5YaF5a65Iikgew0KICAgICAgICB0aGlzLmFjdGlvbnMgPSBzZWNvbmRBY3Rpb25zOw0KICAgICAgICB0aGlzLmJvdHRvbVRleHQgPSAi6L+U5ZueIjsNCiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uLm5hbWUgPT09ICLkuI3mhJ/lhbTotqMiKSB7DQogICAgICAgIHRoaXMuJGVtaXQoImRpc2xpa2VFViIsIHRoaXMuYXJ0T2JqLmFydF9pZCk7DQogICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOyAvL+aXoOiuuuaIkOWKn+S4juWQpuiuqeWPjemmiOmdouadv+makOiXjw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy4kZW1pdCgicmVwb3J0RVYiLCB0aGlzLmFydE9iai5hcnRfaWQsIGFjdGlvbi52YWx1ZSk7DQogICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOyAvL+WFs+mXreWPjemmiOmdouadvw0KICAgICAgfQ0KICAgIH0sDQogICAgY2FuY2VsRm4oKSB7DQogICAgICBpZiAodGhpcy5ib3R0b21UZXh0ID09PSAi6L+U5ZueIikgew0KICAgICAgICB0aGlzLnNob3cgPSB0cnVlOw0KICAgICAgICB0aGlzLmFjdGlvbnMgPSBmaXJzdEFjdGlvbnM7DQogICAgICAgIHRoaXMuYm90dG9tVGV4dCA9ICLlj5bmtogiOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2xvc2VGbigpIHsNCiAgICAgIHRoaXMuYWN0aW9ucyA9IGZpcnN0QWN0aW9uczsNCiAgICAgIHRoaXMuYm90dG9tVGV4dCA9ICLlj5bmtogiOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["ArticleItem.vue"],"names":[],"mappings":";AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ArticleItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 一条文章单元格 -->\r\n    <div class=\"box\">\r\n      <van-cell>\r\n        <!-- 标题区域的插槽 -->\r\n        <template #title>\r\n          <div class=\"title-box\">\r\n            <!-- 标题 -->\r\n            <span>{{artObj.title}}</span>\r\n            <!-- 单图 -->\r\n            <!-- <img v-if=\"artObj.cover.type === 1\" :src=\"artObj.cover.images[0]\" alt class=\"thumb\" /> -->\r\n            <van-image v-if=\"artObj.cover.type === 1\" :src=\"artObj.cover.images[0]\" class=\"thumb\">\r\n              <template v-slot:error>加载失败</template>\r\n            </van-image>\r\n          </div>\r\n          <!-- 多图 -->\r\n          <div class=\"thumb-box\" v-if=\"artObj.cover.type > 1\">\r\n            <!-- <img\r\n              :src=\"imgUrl\"\r\n              alt\r\n              class=\"thumb\"\r\n              v-for=\"(imgUrl, index) in artObj.cover.images\"\r\n              :key=\"index\"\r\n            />-->\r\n            <van-image\r\n              :src=\"imgUrl\"\r\n              alt\r\n              class=\"thumb\"\r\n              v-for=\"(imgUrl, index) in artObj.cover.images\"\r\n              :key=\"index\"\r\n            >\r\n              <template v-slot:error>加载失败</template>\r\n            </van-image>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- label区域的插槽 -->\r\n        <template #label>\r\n          <div class=\"label-box\">\r\n            <div>\r\n              <span>{{artObj.aut_name}}</span>\r\n              <span>{{artObj.comm_count}}评论</span>\r\n              <span>{{formatTime(artObj.pubdate)}}</span>\r\n            </div>\r\n            <!-- 反馈组件 -->\r\n            <van-icon name=\"cross\" @click.stop=\"show = true\" v-if=\"isShow\" />\r\n          </div>\r\n        </template>\r\n      </van-cell>\r\n    </div>\r\n    <!-- 反馈遮罩层 -->\r\n    <van-action-sheet\r\n      v-model=\"show\"\r\n      :actions=\"actions\"\r\n      get-container=\"body\"\r\n      :cancel-text=\"bottomText\"\r\n      @select=\"onSelect\"\r\n      @cancel=\"cancelFn\"\r\n      @close=\"closeFn\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { timeAgo } from \"@/utils/dayjs.js\";\r\nimport { firstActions, secondActions } from \"@/api/report.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      show: false,\r\n      actions: firstActions,\r\n      bottomText: \"取消\" //遮罩层底部默认文字\r\n    };\r\n  },\r\n  props: {\r\n    artObj: Object, //文章对象\r\n    isShow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  methods: {\r\n    formatTime: timeAgo,\r\n    onSelect(action, item) {\r\n      // 默认情况下点击选项时不会自动收起\r\n      // 可以通过 close-on-click-action 属性开启自动收起\r\n      // this.show = false;\r\n      // Toast(item.name);\r\n      // console.log(action);\r\n\r\n      // console.log(item);\r\n      if (action.name === \"反馈垃圾内容\") {\r\n        this.actions = secondActions;\r\n        this.bottomText = \"返回\";\r\n      } else if (action.name === \"不感兴趣\") {\r\n        this.$emit(\"dislikeEV\", this.artObj.art_id);\r\n        this.show = false; //无论成功与否让反馈面板隐藏\r\n      } else {\r\n        this.$emit(\"reportEV\", this.artObj.art_id, action.value);\r\n        this.show = false; //关闭反馈面板\r\n      }\r\n    },\r\n    cancelFn() {\r\n      if (this.bottomText === \"返回\") {\r\n        this.show = true;\r\n        this.actions = firstActions;\r\n        this.bottomText = \"取消\";\r\n      }\r\n    },\r\n    closeFn() {\r\n      this.actions = firstActions;\r\n      this.bottomText = \"取消\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n// 标题样式\r\n.title-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n// label描述样式\r\n.label-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.label-box span {\r\n  margin: 0 0.08rem;\r\n  &:first-child {\r\n    margin-left: 0;\r\n  }\r\n}\r\n.thumb {\r\n  width: 3.013333rem;\r\n  height: 1.866667rem;\r\n  background-color: #f8f8f8;\r\n  object-fit: cover;\r\n}\r\n.thumb-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n"]}]}