{"remainingRequest":"D:\\myProject\\touTiaoNews\\node_modules\\babel-loader\\lib\\index.js!D:\\myProject\\touTiaoNews\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\myProject\\touTiaoNews\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\myProject\\touTiaoNews\\src\\views\\Search\\SearchResult.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\myProject\\touTiaoNews\\src\\views\\Search\\SearchResult.vue","mtime":1694051857320},{"path":"D:\\myProject\\touTiaoNews\\babel.config.js","mtime":1694051857305},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\babel-loader\\lib\\index.js","mtime":1663989856865},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\myProject\\touTiaoNews\\node_modules\\vue-loader\\lib\\index.js","mtime":1664795355419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHNlYXJjaFJlc3VsdEFQSSB9IGZyb20gIkAvYXBpIjsKaW1wb3J0IEFydGljbGVJdGVtIGZyb20gIkAvY29tcG9uZW50cy9BcnRpY2xlSXRlbS52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlYXJjaFJlc3VsdCIsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYWdlOiAxLAogICAgICBhcnRpY2xlTGlzdDogW10sCiAgICAgIC8vIGxpc3Q6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZmluaXNoZWQ6IGZhbHNlCiAgICB9OwogIH0sCgogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBjb25zdCByZXMgPSBhd2FpdCBzZWFyY2hSZXN1bHRBUEkoewogICAgICBxOiB0aGlzLiRyb3V0ZS5wYXJhbXMua3cKICAgIH0pOyAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgLy8gY29uc29sZS5sb2codGhpcyk7CgogICAgdGhpcy5hcnRpY2xlTGlzdCA9IHJlcy5kYXRhLmRhdGEucmVzdWx0czsKICB9LAoKICBtZXRob2RzOiB7CiAgICBhc3luYyBvbkxvYWQoKSB7CiAgICAgIGlmICh0aGlzLmFydGljbGVMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLnBhZ2UrKzsKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBzZWFyY2hSZXN1bHRBUEkoewogICAgICAgICAgcGFnZTogdGhpcy5wYWdlLAogICAgICAgICAgcTogdGhpcy4kcm91dGUucGFyYW1zLmt3CiAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcyk7CgogICAgICAgIGlmIChyZXMuZGF0YS5kYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSBbLi4udGhpcy5hcnRpY2xlTGlzdCwgLi4ucmVzLmRhdGEuZGF0YS5yZXN1bHRzXTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICAvLyDmlofnq6At54K55Ye75LqL5Lu2Lei3s+i9rOWIsOaWh+eroOivpuaDhQogICAgaXRlbUNsaWNrRm4oaWQpIHsKICAgICAgLy8gY29uc29sZS5sb2coIjEyMyIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogYC9kZXRhaWw/YXJ0X2lkPSR7aWR9YAogICAgICB9KTsKICAgIH0KCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBcnRpY2xlSXRlbQogIH0KfTs="},{"version":3,"mappings":";AA0BA;AACA;AACA;EACAA,oBADA;;EAEAC;IACA;MACAC,OADA;MAEAC,eAFA;MAGA;MACAC,cAJA;MAKAC;IALA;EAOA,CAVA;;EAWA;IACA;MAAAC;IAAA,GADA,CAEA;IACA;;IACA;EACA,CAhBA;;EAiBAC;IACA;MACA;QACA;QACA;UACAL,eADA;UAEAI;QAFA,GAFA,CAMA;QACA;;QACA;UACA;UACA;QACA;;QACA;QACA;MACA;IACA,CAjBA;;IAkBA;IACAE;MACA;MACA;QACAC;MADA;IAGA;;EAxBA,CAjBA;EA2CAC;IACAC;EADA;AA3CA","names":["name","data","page","articleList","loading","finished","q","methods","itemClickFn","path","components","ArticleItem"],"sourceRoot":"src/views/Search","sources":["SearchResult.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 搜索结果，头部导航 -->\r\n    <div class=\"search-result-container\">\r\n      <!-- 点击实现后退结果 -->\r\n      <van-nav-bar class=\"nav-bar\" title=\"搜索结果\" left-arrow @click-left=\"$router.go(-1)\" fixed></van-nav-bar>\r\n    </div>\r\n    <!-- 搜索结果-数据渲染 -->\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"onLoad\"\r\n      :immediate-check=\"false\"\r\n    >\r\n      <ArticleItem\r\n        v-for=\"obj in articleList\"\r\n        :key=\"obj.art_id\"\r\n        :artObj=\"obj\"\r\n        :isShow=\"false\"\r\n        @click.native=\"itemClickFn(obj.art_id)\"\r\n      ></ArticleItem>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { searchResultAPI } from \"@/api\";\r\nimport ArticleItem from \"@/components/ArticleItem.vue\";\r\nexport default {\r\n  name: \"SearchResult\",\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      articleList: [],\r\n      // list: [],\r\n      loading: false,\r\n      finished: false\r\n    };\r\n  },\r\n  async created() {\r\n    const res = await searchResultAPI({ q: this.$route.params.kw });\r\n    // console.log(res);\r\n    // console.log(this);\r\n    this.articleList = res.data.data.results;\r\n  },\r\n  methods: {\r\n    async onLoad() {\r\n      if (this.articleList.length > 0) {\r\n        this.page++;\r\n        const res = await searchResultAPI({\r\n          page: this.page,\r\n          q: this.$route.params.kw\r\n        });\r\n        // console.log(res);\r\n        // console.log(this);\r\n        if (res.data.data.results.length === 0) {\r\n          this.finished = true;\r\n          return;\r\n        }\r\n        this.articleList = [...this.articleList, ...res.data.data.results];\r\n        this.loading = false;\r\n      }\r\n    },\r\n    // 文章-点击事件-跳转到文章详情\r\n    itemClickFn(id) {\r\n      // console.log(\"123\");\r\n      this.$router.push({\r\n        path: `/detail?art_id=${id}`\r\n      });\r\n    }\r\n  },\r\n  components: {\r\n    ArticleItem\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search-result-container {\r\n  padding-top: 46px;\r\n  padding-bottom: 46px;\r\n}\r\n</style>"]}]}