{"remainingRequest":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\babel-loader\\lib\\index.js!D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\forward\\code\\vue\\hmtt_nnew\\src\\components\\ArticleItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\src\\components\\ArticleItem.vue","mtime":1666426596365},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\babel.config.js","mtime":1664795892678},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\babel-loader\\lib\\index.js","mtime":1663989856865},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1664795348110},{"path":"D:\\forward\\code\\vue\\hmtt_nnew\\node_modules\\vue-loader\\lib\\index.js","mtime":1664795355419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdGltZUFnbyB9IGZyb20gIkAvdXRpbHMvZGF5anMuanMiOwppbXBvcnQgeyBmaXJzdEFjdGlvbnMsIHNlY29uZEFjdGlvbnMgfSBmcm9tICJAL2FwaS9yZXBvcnQuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICBhY3Rpb25zOiBmaXJzdEFjdGlvbnMsCiAgICAgIGJvdHRvbVRleHQ6ICLlj5bmtogiIC8v6YGu572p5bGC5bqV6YOo6buY6K6k5paH5a2XCgogICAgfTsKICB9LAoKICBwcm9wczogewogICAgYXJ0T2JqOiBPYmplY3QsCiAgICAvL+aWh+eroOWvueixoQogICAgaXNTaG93OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdFRpbWU6IHRpbWVBZ28sCgogICAgb25TZWxlY3QoYWN0aW9uLCBpdGVtKSB7CiAgICAgIC8vIOm7mOiupOaDheWGteS4i+eCueWHu+mAiemhueaXtuS4jeS8muiHquWKqOaUtui1twogICAgICAvLyDlj6/ku6XpgJrov4cgY2xvc2Utb24tY2xpY2stYWN0aW9uIOWxnuaAp+W8gOWQr+iHquWKqOaUtui1twogICAgICAvLyB0aGlzLnNob3cgPSBmYWxzZTsKICAgICAgLy8gVG9hc3QoaXRlbS5uYW1lKTsKICAgICAgLy8gY29uc29sZS5sb2coYWN0aW9uKTsKICAgICAgLy8gY29uc29sZS5sb2coaXRlbSk7CiAgICAgIGlmIChhY3Rpb24ubmFtZSA9PT0gIuWPjemmiOWeg+WcvuWGheWuuSIpIHsKICAgICAgICB0aGlzLmFjdGlvbnMgPSBzZWNvbmRBY3Rpb25zOwogICAgICAgIHRoaXMuYm90dG9tVGV4dCA9ICLov5Tlm54iOwogICAgICB9IGVsc2UgaWYgKGFjdGlvbi5uYW1lID09PSAi5LiN5oSf5YW06LajIikgewogICAgICAgIHRoaXMuJGVtaXQoImRpc2xpa2VFViIsIHRoaXMuYXJ0T2JqLmFydF9pZCk7CiAgICAgICAgdGhpcy5zaG93ID0gZmFsc2U7IC8v5peg6K665oiQ5Yqf5LiO5ZCm6K6p5Y+N6aaI6Z2i5p2/6ZqQ6JePCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kZW1pdCgicmVwb3J0RVYiLCB0aGlzLmFydE9iai5hcnRfaWQsIGFjdGlvbi52YWx1ZSk7CiAgICAgICAgdGhpcy5zaG93ID0gZmFsc2U7IC8v5YWz6Zet5Y+N6aaI6Z2i5p2/CiAgICAgIH0KICAgIH0sCgogICAgY2FuY2VsRm4oKSB7CiAgICAgIGlmICh0aGlzLmJvdHRvbVRleHQgPT09ICLov5Tlm54iKSB7CiAgICAgICAgdGhpcy5zaG93ID0gdHJ1ZTsKICAgICAgICB0aGlzLmFjdGlvbnMgPSBmaXJzdEFjdGlvbnM7CiAgICAgICAgdGhpcy5ib3R0b21UZXh0ID0gIuWPlua2iCI7CiAgICAgIH0KICAgIH0sCgogICAgY2xvc2VGbigpIHsKICAgICAgdGhpcy5hY3Rpb25zID0gZmlyc3RBY3Rpb25zOwogICAgICB0aGlzLmJvdHRvbVRleHQgPSAi5Y+W5raIIjsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AAiEA;AACA;AACA;EACAA;IACA;MACAC,WADA;MAEAC,qBAFA;MAGAC,gBAHA,CAGA;;IAHA;EAKA,CAPA;;EAQAC;IACAC,cADA;IACA;IACAC;MACAC,aADA;MAEAC;IAFA;EAFA,CARA;EAeAC;IACAC,mBADA;;IAEAC;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;QACA,kBAFA,CAEA;MACA,CAHA,MAGA;QACA;QACA,kBAFA,CAEA;MACA;IACA,CApBA;;IAqBAC;MACA;QACA;QACA;QACA;MACA;IACA,CA3BA;;IA4BAC;MACA;MACA;IACA;;EA/BA;AAfA","names":["data","show","actions","bottomText","props","artObj","isShow","type","default","methods","formatTime","onSelect","cancelFn","closeFn"],"sourceRoot":"src/components","sources":["ArticleItem.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 一条文章单元格 -->\r\n    <div class=\"box\">\r\n      <van-cell>\r\n        <!-- 标题区域的插槽 -->\r\n        <template #title>\r\n          <div class=\"title-box\">\r\n            <!-- 标题 -->\r\n            <span>{{artObj.title}}</span>\r\n            <!-- 单图 -->\r\n            <!-- <img v-if=\"artObj.cover.type === 1\" :src=\"artObj.cover.images[0]\" alt class=\"thumb\" /> -->\r\n            <van-image v-if=\"artObj.cover.type === 1\" :src=\"artObj.cover.images[0]\" class=\"thumb\">\r\n              <template v-slot:error>加载失败</template>\r\n            </van-image>\r\n          </div>\r\n          <!-- 多图 -->\r\n          <div class=\"thumb-box\" v-if=\"artObj.cover.type > 1\">\r\n            <!-- <img\r\n              :src=\"imgUrl\"\r\n              alt\r\n              class=\"thumb\"\r\n              v-for=\"(imgUrl, index) in artObj.cover.images\"\r\n              :key=\"index\"\r\n            />-->\r\n            <van-image\r\n              :src=\"imgUrl\"\r\n              alt\r\n              class=\"thumb\"\r\n              v-for=\"(imgUrl, index) in artObj.cover.images\"\r\n              :key=\"index\"\r\n            >\r\n              <template v-slot:error>加载失败</template>\r\n            </van-image>\r\n          </div>\r\n        </template>\r\n\r\n        <!-- label区域的插槽 -->\r\n        <template #label>\r\n          <div class=\"label-box\">\r\n            <div>\r\n              <span>{{artObj.aut_name}}</span>\r\n              <span>{{artObj.comm_count}}评论</span>\r\n              <span>{{formatTime(artObj.pubdate)}}</span>\r\n            </div>\r\n            <!-- 反馈组件 -->\r\n            <van-icon name=\"cross\" @click.stop=\"show = true\" v-if=\"isShow\" />\r\n          </div>\r\n        </template>\r\n      </van-cell>\r\n    </div>\r\n    <!-- 反馈遮罩层 -->\r\n    <van-action-sheet\r\n      v-model=\"show\"\r\n      :actions=\"actions\"\r\n      get-container=\"body\"\r\n      :cancel-text=\"bottomText\"\r\n      @select=\"onSelect\"\r\n      @cancel=\"cancelFn\"\r\n      @close=\"closeFn\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { timeAgo } from \"@/utils/dayjs.js\";\r\nimport { firstActions, secondActions } from \"@/api/report.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      show: false,\r\n      actions: firstActions,\r\n      bottomText: \"取消\" //遮罩层底部默认文字\r\n    };\r\n  },\r\n  props: {\r\n    artObj: Object, //文章对象\r\n    isShow: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  methods: {\r\n    formatTime: timeAgo,\r\n    onSelect(action, item) {\r\n      // 默认情况下点击选项时不会自动收起\r\n      // 可以通过 close-on-click-action 属性开启自动收起\r\n      // this.show = false;\r\n      // Toast(item.name);\r\n      // console.log(action);\r\n\r\n      // console.log(item);\r\n      if (action.name === \"反馈垃圾内容\") {\r\n        this.actions = secondActions;\r\n        this.bottomText = \"返回\";\r\n      } else if (action.name === \"不感兴趣\") {\r\n        this.$emit(\"dislikeEV\", this.artObj.art_id);\r\n        this.show = false; //无论成功与否让反馈面板隐藏\r\n      } else {\r\n        this.$emit(\"reportEV\", this.artObj.art_id, action.value);\r\n        this.show = false; //关闭反馈面板\r\n      }\r\n    },\r\n    cancelFn() {\r\n      if (this.bottomText === \"返回\") {\r\n        this.show = true;\r\n        this.actions = firstActions;\r\n        this.bottomText = \"取消\";\r\n      }\r\n    },\r\n    closeFn() {\r\n      this.actions = firstActions;\r\n      this.bottomText = \"取消\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n// 标题样式\r\n.title-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n// label描述样式\r\n.label-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.label-box span {\r\n  margin: 0 0.08rem;\r\n  &:first-child {\r\n    margin-left: 0;\r\n  }\r\n}\r\n.thumb {\r\n  width: 3.013333rem;\r\n  height: 1.866667rem;\r\n  background-color: #f8f8f8;\r\n  object-fit: cover;\r\n}\r\n.thumb-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n"]}]}